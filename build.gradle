plugins {
    id 'idea'
    id 'org.jlleitschuh.gradle.ktlint' version '9.2.1'
    id 'org.jetbrains.kotlin.jvm' version '1.4.10'
    id 'org.web3j' version '4.8.4'
    id 'org.web3j.solidity' version '0.3.2'
}

group 'net.consensys.quorum.examples'
version '1.0-SNAPSHOT'

web3j {
    generatedPackageName = 'net.consensys.quorum.examples.tests.acceptance.contracts'
}

sourceSets.main.solidity.srcDirs = [
        "$rootDir/contracts"
]

solidity {
    resolvePackages = false
}

compileKotlin {
    kotlinOptions.jvmTarget = "1.8"
}
compileTestKotlin {
    kotlinOptions.jvmTarget = "1.8"
}


repositories {
    mavenCentral()
    mavenLocal()
}

ktlint {
    verbose.set(true)
    outputToConsole.set(true)
    coloredOutput.set(true)
}

test {
    useJUnitPlatform()
    testLogging {
        events("passed", "skipped", "failed")
    }
}

dependencies {
    testImplementation "org.web3j:core:4.+"
    testImplementation "org.web3j:quorum:4.8.9-SNAPSHOT"
    testImplementation "org.junit.jupiter:junit-jupiter:5.+"
    testImplementation "org.assertj:assertj-core:3.18.1"

}

check.dependsOn ktlintCheck

